<?xml version="1.0" encoding="UTF-8"?>
<openerp>
    <data>
        <record id="view_res_partner_filter_zimbra" model="ir.ui.view">
            <field name="name">res.partner.select.zimbra</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_res_partner_filter" />
            <field name="arch" type="xml">
                   <field name="name" filter_domain="['|','|',('name','ilike',self),('parent_id','ilike',self),('ref','=',self)]" position="replace">
                        <field name="name" filter_domain="['|','|',('name','ilike',self),('parent_id','ilike',self),('ref','=',self)]" string="First Name"/>
                        <field name="last_name" filter_domain="['|','|',('last_name','ilike',self),('parent_id','ilike',self),('ref','=',self)]" />
                   </field>
            </field>
        </record>

        <record id="view_partner_form_zimbra" model="ir.ui.view">
            <field name="name">view.partner.form.zimbra</field>
            <field name="model">res.partner</field>
            <field name="inherit_id" ref="base.view_partner_form"/>
            <field name="arch" type="xml">
                <xpath expr="/form/sheet/div/h1" position="replace">
                    <h2>
                    <field name="first_name" on_change="onchange_fml_name( first_name, middle_name,last_name )" default_focus="1" placeholder="First Name" style="width: auto;max-width: 35%%" attrs="{'invisible':[('is_company','=',True)], 'required':[('is_company','!=', True)]}"/>
                    <field name="middle_name" on_change="onchange_fml_name( first_name, middle_name,last_name )" placeholder="Middle Name" style="width: auto;max-width: 32%%" attrs="{'invisible':[('is_company','=',True)]}"/>
                    <field name="last_name" on_change="onchange_fml_name( first_name, middle_name,last_name )" placeholder="Last Name" style="width: 31%%" attrs="{'invisible':[('is_company','=',True)]}"/>
                    <field name="name" default_focus="1" placeholder="Name" style="width: auto;max-width: 35%%" attrs="{'invisible':[('is_company','!=',True)], 'required':[('is_company','=', True)]}"/>
                    </h2>
                </xpath>
                <xpath expr="/form/sheet/notebook/page/field/form/sheet/div/h1" position="replace">
                    <h2>
                    <field name="is_company" invisible="1"/>
                    <field name="first_name" on_change="onchange_fml_name( first_name, middle_name,last_name )" style="width: auto;max-width: 35%%" placeholder="First Name" attrs="{'invisible':[('is_company','=',True)]}"/>
                    <field name="middle_name" on_change="onchange_fml_name( first_name, middle_name,last_name )" style="width: auto;max-width: 32%%" placeholder="Middle Name" attrs="{'invisible':[('is_company','=',True)]}"/>
                    <field name="last_name" on_change="onchange_fml_name( first_name, middle_name,last_name )" style="width: 31%%" placeholder="Last Name" attrs="{'invisible':[('is_company','=',True)]}"/>
                    <field name="name" style="width: auto;max-width: 35%%" placeholder="Name" attrs="{'invisible':[('is_company','=',True)]}"/>
                    </h2>
                </xpath>
            </field>
        </record>
        
        <record id="view_crm_phonecall_form_zimbra" model="ir.ui.view">
            <field name="name">crm.phonecall.form.zimbra</field>
            <field name="model">crm.phonecall</field>
            <field name="inherit_id" ref="crm.crm_case_phone_form_view"/>
            <field name="arch" type="xml">
                <field name="priority" position="replace">
                    <field  name="priority" widget="selection"/> 
                </field>
            </field>
        </record>
	</data>

	<data noupdate="1">
        <record model="ir.cron" id="vnc_res_partner_name_cron">
            <field name="name">VNC Partner Name Update Cron</field>
            <field name="interval_number">1</field>
            <field name="interval_type">minutes</field>
            <field name="numbercall">1</field>
            <field eval="False" name="doall"/>
            <field eval="True" name="active"/>
            <field eval="'res.partner'" name="model"/>
            <field eval="'res_partner_name_cron'" name="function"/>
        </record>
    </data>
</openerp>
